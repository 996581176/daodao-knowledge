---
title: 第六章：数据容器
date: 2024-03-14 22:16:08
permalink: /pages/42087e/
categories:
  - python
  - python基础
tags:
    -
---
## 数据容器
一种可以容纳多份数据的数据类型，容纳的每一份数据称之为一个元素，每一个元素，可以是任意类型的数据，如字符串、数字、布尔等

数据容器根据特点的不同，如：
- 是否支持重复元素  
- 是否可以修改  
- 是否有序，等  

分为5类：  
列表（list）、元祖（tuple）、字符串（str）、集合（set）、字典（dict）

## list列表
### 定义
```py
# 字面量
[元素1, 元素2, 元素3, 元素4,...]

# 定义变量
变量名称 = [元素1, 元素2, 元素3, 元素4,...]

# 定义空列表
变量名称 = []
变量名称 = list()
```
list可以嵌套，可以存储任何类型的元素
```py
name_list = ['itheima',666,'python',[1,2,3],[4,5,6]]
print(name_list)
print(type(name_list))
```

### 下标索引
索引从0开始
```py
name_list = ['itheima',666,'python',[1,2,3],[4,5,6]]
print(name_list[0]) # itheim
print(name_list[1]) # 666
print(name_list[2]) # python
print(name_list[3]) # [1,2,3]
print(name_list[4]) # [4,5,6]
print(name_list[3][0]) # 1
```

或者，可以反向所以，也就是从后向前：从-1开始，依次递减(-1, -2, -3....)
```py
name_list = ['itheima',666,'python',[1,2,3],[4,5,6]]
print(name_list[-1]) # [4,5,6]
print(name_list[-2]) # [1,2,3]
print(name_list[-3]) # python
print(name_list[-4]) # 666
print(name_list[-5]) # itheima
print(name_list[-1][-1]) # 6
```
::: danger
通过下标索引取数据，一定不要超出范围
:::

### 列表的常用操作（方法）
Python中，如果将函数定义为class(类)的成员，那么函数会称之为方法  

#### 查找某元素的下标
功能：查找指定元素在列表的下标，如果找不到，报错ValueError
语法：列表.index(元素)
```py
name_list = ['itheima',666,'python',[1,2,3],[4,5,6]]
index = name_list.index(666)
print(index) # 1
```

#### 列表的修改方法
- 修改特定位置（索引）的元素值
语法：列表[下标] = 值
```py
name_list = ['itheima',666,'python',[1,2,3],[4,5,6]]
name_list[1] = 123
print(name_list) # ['itheima',123,'python',[1,2,3],[4,5,6]]
```
- 插入元素
语法： 列表.insert(下标，元素),在指定的下标位置，插入指定的元素
```py
my_list = [1,2,3]
my_list.insert(1,'heima')
print(my_list) # [1, 'heima', 2, 3]
```
- 追加元素
列表.append(元素)， 将指定元素，追加到列表的尾部
```py
my_list = [1,2,3]
my_list.append('heima')
print(my_list) # [1, 2, 3, 'heima']
```

列表.extend(其他数据容器)，将其他数据容器的内容取出，依次追加到列表尾部
```py
my_list = [1,2,3]
my_list.extend(['heima','chengxu','yuan'])
print(my_list) # [1, 2, 3, 'heima', 'chengxu', 'yuan']
```

- 删除元素  
1. del 列表[下标]  
2. 列表.pop(下标) 这个方法有返回值，返回被删除元素
```py
my_list = [1,2,3]
del my_list[1]
print(my_list) # [1,3]
```

```py
my_list = [1,2,3]
element = my_list.pop(1)
print(my_list) # [1,3]
print(f"被删除的元素是{element}")
```

3. 删除某元素在列表中的第一个匹配项  
列表.remove(元素)
```py
my_list = [1,2,3,2,3]
my_list.remove(2)
print(my_list) # [1, 3, 2, 3]
```

- 清空列表  
列表.clear()
```py
my_list = [1,2,3,2,3]
my_list.clear()
print(my_list) # []
```

#### 统计某元素在列表中的数量
列表.count(元素)
```py
my_list = [1,2,3,2,3]
num = my_list.count(2)
print(num) # 2
```

#### 统计列表内，有多少元素
len(列表)  
可以得到一个int数字，表示列表中的元素数量
```py
my_list = [1,2,3,2,3]
num = len(my_list)
print(num) # 5
```

## list的遍历
### while循环遍历
```py
my_list = ['a', 'b', 'c']
index = 0
while index < len(my_list):
    print(my_list[index])
    index += 1
```

### for循环
```py
my_list = ['a', 'b', 'c']
for x in my_list:
    print(x)
```

## 元祖
### 格式
元组同列表一样，都是可以封装多个、不同类型的元素在内。

但最大的不同点在于：

元组一旦定义完成，就不可以修改

元祖定义：  
定义元组使用小括号，且使用逗号隔开各个数据，数据可以是不同的数据类型
```py
# 定义元组的字面量
(元素，元素，...，元素)
# 定义元组变量
变量名称 = (元素，元素，...，元素)
# 定义空元组
变量名称 = () 
变量名称 = tuple()
```
```py
t1 = ('a', 1, True)
print(t1) # ('a', 1, True)
print(type(t1)) # <class 'tuple'>
```

::: warning 
如果元组只有一个数据，这个数据后面要添加逗号

t1 = ('a',)
:::

### 元组的相关操作
| 编号 | 方法 | 作用 |
|-----|------|------|
|1    | index()|查找某个数据，如果数据存在返回对应的下标，否则报警|
|2|count()|统计某个数据在当前元组出现的次数|
|3|len(元组)|统计元组内的元素个数|

### while循环
```py
t1 = (1,2,3,4,5,6)

index = 0
while index < len(t1):
    print(f"元组的元素有：{t1[index]}")
    index += 1
```

### for循环
```py
t1 = (1,2,3,4,5,6)

for element in t1:
    print(f"元组的元素有：{element}")
```

## 数据容器 str(字符串)
字符串是字符的容器，一个字符串可以存放任意数量的字符

### 字符串的下标(索引)
- 从前向后，下标从[0]开始  
- 从后向前，下标从[-1]开始

::: danger
同元组一样，字符串是一个: `无法修改`的数据容器。
所以：
- 修改指定下标的字符  
- 移除特定下标的字符  
- 追加字符等  

`均无法完成。如果必须要做，只能得到一个新字符串，老的字符串无法修改`
:::

### 字符串的常用操作
- 查找特定字符串的下标索引值
  字符串.index(字符串)
  ```py
    my_str = "itheima and itcast"

    print(my_str.index("and")) # 8
  ```

- 字符串的替换  
  语法： 字符串.replace(字符串1, 字符串2)  
  功能:  将字符串内的全部：字符串1，替换为字符串2  
  注意： 不是修改字符串本身，而是得到了一个新字符串哦  
  ```py
  my_str = "itheima and itcast"

  print(my_str.replace("and","not")) 
  #  "itheima not itcast"
  print(my_str)
  #  "itheima and itcast"
  ```

- 字符串的分割
  语法： 字符串.split(分隔符字符串)  
  功能： 按照指定的分隔符字符串，将字符串划分为多个字符串，并存入列表对象中  
  注意： 字符串本身不变，而是得到了一个列表对象  
  ```py
  my_str = "itheima and itcast"
  print(my_str.split(" "))
  # ['itheima', 'and', 'itcast']
  ```

- 字符串的规整操作（去前后空格）  
  语法： 字符串.strip()
  ```py
    my_str = "     itheima and itcast   "
    print(my_str.strip())
    # itheima and itcast
  ```

- 字符串的规整操作（去前后指定字符串）  
  语法： 字符串.strip(字符串)
  ```py
  my_str = "12itheima and itcast21"
  print(my_str.strip("12"))
  # itheima and itcast
  ```

  ::: warning
  注意，传入的是"12"，其实就是“1”和“2”都会移除，是按照单个字符串
  :::

- 统计字符串中某字符出现次数
```py
my_str = "12itheima and itcast21"
print(my_str.count("a"))
# a
```
- 统计字符串的长度
```py
my_str = "12itheima and itcast21"
print(len(my_str)) # 22
```

## 数据容器(序列)的切片