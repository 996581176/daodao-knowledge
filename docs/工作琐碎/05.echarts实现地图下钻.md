---
title: echarts实现地图下钻
date: 2021-12-13 10:40:43
permalink: /pages/5fac09/
categories:
  - 工作琐碎
tags:
    -
---
公司的新项目需要写这样的地图，还要能两级下钻到省，下面是我写好了的样子，我今天就是复一下盘： 
![](https://cdn.JsDelivr.net/gh/Ostask/img-bed//20210220211213160414.png)  
![](https://cdn.JsDelivr.net/gh/Ostask/img-bed//20210220211213161750.png)  
## 如何用echarts显示地图
首先需要下载map的Json数据，我放到这里：[mapJson](https://gitee.com/knif/echarts-map-json/tree/master/) 
然后使用echarts的geo配置，或者series的type = 'map'就可以加载地图了：
```js
import chinaMapJson from "./china.json"

echarts.registerMap('china', chinaMapJson)

var options = {
  tooltip:{
    show:false
  },
  geo: {
    map: 'china',
    roam:false,
    label: {
        emphasis: {
            show: false
        }
    }
  }
}


const el = document.getElementById("chart")
const chart = echart.init(el)
chart.setOption(options)
```
这样就可以显示中国地图。  

第二种是series的type设置为map:
```js
import chinaMapJson from "./china.json"

echarts.registerMap('china', chinaMapJson)

var options = {
  tooltip:{
    show:false
  },
  series: [
    {
        type: 'map',
        map: 'china'
    }
  ]
}

const el = document.getElementById("chart")
const chart = echart.init(el)
chart.setOption(options)
```

::: warning 注意
中国地图的名字叫`china`才会显示南海诸岛，别的名字不会显示
:::
## 如何设置地图的纹理
## 如何给地图设置阴影
## 地图下钻实现
## 地图回钻实现
## 如何判定点是否在地图中
## 如果自定义div写的tooltip框
## 如何让div写的tooltip框不超出屏幕
## 地图下钻组件的设计思路
## 完整代码
