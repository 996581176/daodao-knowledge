---
title: 百度地图自定义信息窗口层级放到最高
date: 2023-09-14 14:05:40
permalink: /pages/9bb3c8/
categories:
  - 工作琐碎
  - 百度地图
tags:
    -
---
又又又是百度地图，这次呢是产品经理说要让百度地图的点hover之后打开浮动窗口，这很简单，不过呢这个窗口不可以被其他的元素遮挡，我写完了，具体效果如下：
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/2023091403.gif)

是不是很好奇怎么做到的，首先地图层级是在最底下的，地图上打开的窗口却要比覆盖在地图上的元素高，这不是既要...又要...吗

## 解决办法
其实很简单，打开的浮动窗口是我自己用div写的，那么怎么才能让这个窗口跟随地图动起来呢。

这里有个很实用的api：
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20230914141238.png)
这个方法可以将经纬度坐标转换为像素坐标

因此只需要在地图的moving和zoomend事件中根据点坐标转换出当前的像素坐标，然后更新信息窗口绝对定位就可以了，哈哈哈哈哈我可真是太聪明了