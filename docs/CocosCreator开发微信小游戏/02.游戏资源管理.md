---
title: 游戏资源管理
date: 2024-04-26 15:42:53
permalink: /pages/870050/
categories:
  - CocosCreator开发微信小游戏
tags:
    -
---
从本质上说，每个游戏都是由种类繁多，数量庞大的资源构成的，因此，管理包括图片，声音，字体，粒子，地图等多媒体资源是一款游戏引擎的核心功能。  
资源管理的知识主要有几个方面：包括对于资源的组织，运行期对于资源的载入、清理及对于资源的操作以及资源的优化。  

## 图片资源的管理
图片资源又称贴图，是游戏中，尤其是2D游戏中绝大部分对象的渲染源，图片资源一般由软件制作而成并输出称游戏引擎支持的格式，目前支持的格式包括JPG和PNG两种，除了单张图片外，Cocos Creator还支持图集资源的导入和自动图集资源的生成功能。  

### 图片资源的导入
图片资源导入的方式非常简单，就是将图片资源复制到资源管理器所在的目录下，在资源管理器中的对应目录下就可以看到相应的图片资源，在对于的资源管理器中会显示自身图片的缩略图，以方便你找到想选的那个图片，单击三角形按钮就可以打开图片的子资源，也就是说单机开三角形后可以看到同名的SpriteFramem,SpriteFrame是精灵类用来显示图像的对象。  
对于图片集资源来说，可以有多个图片资源在一个资源名下，直接将SpriteFrame或者图像资源从资源管理器中拖拽到场景编辑器，或者属性监视器的对应属性下时，就可以设置节点的图片显示。单击对应的图片资源文件或者SpriteFrame就可以看到对应的属性检查器中可以编辑的属性，但是目前这些属性的编辑暂时无法影响图片资源在游戏中使用时的属性，应该是为未来引擎扩展预留的编辑接口。
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/2024042601.gif)  
运行起来是这样的  
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/202404261602188.png)

### 图集资源的制作和导入
图集，也称作 Sprite Sheet, 是游戏开发中场景的一种美术资源。图集是通过专门的工具将多张图片合并成一张大图，并通过plist等格式的文件索引的资源。可供Cocos Creator使用的图集资源由plist和png文件组成。下面就是一张图集使用的图片文件：
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/202404261616330.png)

::: warning 为什么要使用图集资源
在游戏中使用多张图片合成的图集作为美术资源，有以下优势：  
- 合成图集时会去除每张图片周围的空白区域，加上可以在整体上实施各种优化算法，合成图集后可以大大减少游戏包体和内存占用 
- 多个Sprite如果渲染是来自同一张图集的图片时，这些Sprite可以使用同一个渲染批次来处理，大大减少CPU的运算时间，提高运行效率。

更形象生动的解释可以观看来自CodeAndWeb的教学视频 What is a Sprite Sheet，需要使用VPN打开视频。
:::

## 声音资源的管理
游戏不止是简单的界面和动画，还需要音乐音效配合。在很多经典的游戏中，音乐音效不止是配角，还可以起到控制游戏节奏、向玩家提示游戏场景的作用。例如有些过关游戏中，在进入Boss关时，音乐变化以此来提示玩家本关的不同之处，另外还有一些游戏，就是以音乐节奏来配合出怪的频率节奏等，这样玩家可以完全融入到游戏中。