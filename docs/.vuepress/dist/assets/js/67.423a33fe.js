(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{413:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"为什么要学习sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要学习sql"}},[s._v("#")]),s._v(" 为什么要学习SQL")]),s._v(" "),t("h3",{attrs:{id:"无处不在的sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无处不在的sql"}},[s._v("#")]),s._v(" 无处不在的SQL")]),s._v(" "),t("p",[s._v("不管是何种开发语言，亦或是何种开发方向，SQL都是开发人员无法绕开的话题，除了一门趁手的编程语言外，SQL语言也是开发人员人人必备的开发技能。")]),s._v(" "),t("h3",{attrs:{id:"后续学习的铺垫"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后续学习的铺垫"}},[s._v("#")]),s._v(" 后续学习的铺垫")]),s._v(" "),t("ul",[t("li",[s._v("PySpark")]),s._v(" "),t("li",[s._v("PyFlink")]),s._v(" "),t("li",[s._v("BI可视化")])]),s._v(" "),t("h3",{attrs:{id:"学习的程度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#学习的程度"}},[s._v("#")]),s._v(" 学习的程度")]),s._v(" "),t("p",[s._v("简单增删改查，做个SQL入门，详细的以后感兴趣再学")]),s._v(" "),t("h2",{attrs:{id:"数据库介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库介绍"}},[s._v("#")]),s._v(" 数据库介绍")]),s._v(" "),t("p",[s._v("如何实现数据库形式的数据管理呢？"),t("br"),s._v("\n我们需要借助：数据库管理系统，也就是常说的数据库软件。")]),s._v(" "),t("h3",{attrs:{id:"数据库和sql的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库和sql的关系"}},[s._v("#")]),s._v(" 数据库和SQL的关系")]),s._v(" "),t("p",[s._v("数据库是用来存储数据的，在这个过程中，会涉及到：")]),s._v(" "),t("ul",[t("li",[s._v("数据的新增")]),s._v(" "),t("li",[s._v("数据的删除")]),s._v(" "),t("li",[s._v("数据的修改")]),s._v(" "),t("li",[s._v("数据的查询")]),s._v(" "),t("li",[s._v("数据库、数据表的管理"),t("br"),s._v("\n等等")])]),s._v(" "),t("p",[s._v("而SQL语言，就是一种对数据库、数据进行操作、管理、查询的工具。")]),s._v(" "),t("p",[s._v("使用数据库软件去获得库 -> 表 -> 数据，这种数据组织、存储的能力，并借助SQL语言，完成对数据的增删改查等操作")]),s._v(" "),t("h2",{attrs:{id:"mysql的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql的安装"}},[s._v("#")]),s._v(" MySQL的安装")]),s._v(" "),t("p",[s._v("首先去"),t("a",{attrs:{href:"https://www.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL官网"),t("OutboundLink")],1),s._v(" ,去download页面，找到 MySQL installer for Windows")]),s._v(" "),t("p",[s._v("安装完成后配置一下")]),s._v(" "),t("ol",[t("li",[s._v("打开 C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin，复制路径")]),s._v(" "),t("li",[s._v("我的电脑右键 -> 属性 -> 高级系统设置 -> 环境变量 -> 系统变量")]),s._v(" "),t("li",[s._v("找到path,双击编辑，点击新建，将 C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin 粘贴进去")])]),s._v(" "),t("p",[s._v("验证一下有没有安装成功：\ncmd中输入 "),t("code",[s._v("mysql -uroot -p")]),s._v(" 回车输入密码。如果成功表示安装成功。")]),s._v(" "),t("h2",{attrs:{id:"mysql的入门使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql的入门使用"}},[s._v("#")]),s._v(" MySQL的入门使用")]),s._v(" "),t("h3",{attrs:{id:"在命令提示符内使用mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在命令提示符内使用mysql"}},[s._v("#")]),s._v(" 在命令提示符内使用MySQL")]),s._v(" "),t("p",[s._v("MySQL安装好后，就可以简单的尝试使用它。")]),s._v(" "),t("p",[s._v("打开：命令提示符程序，输入"),t("code",[s._v("mysql -uroot -p")]),s._v(",然后回车输入密码，即可进入命令行环境。")]),s._v(" "),t("p",[s._v("在MySQL的命令行环境下，可以通过：")]),s._v(" "),t("ul",[t("li",[s._v("show databases; (分号一定要有) 查看有哪些数据库")]),s._v(" "),t("li",[s._v("use 数据库名 使用某个数据库")]),s._v(" "),t("li",[s._v("show tables; 查看数据库内有哪些表")]),s._v(" "),t("li",[s._v("exit 退出MySQL的命令行环境"),t("br"),s._v("\n等基础命令")])]),s._v(" "),t("h3",{attrs:{id:"使用图形化工具操作mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用图形化工具操作mysql"}},[s._v("#")]),s._v(" 使用图形化工具操作MySQL")]),s._v(" "),t("p",[s._v("命令提示符进行MySQL的操作，不是太方便，一般开发者都会使用第三方的图形化工具进行使用。"),t("br"),s._v("\n可用于MySQL的图形化工具非常多，可成使用跨平台、开源、免费的图形化工具："),t("a",{attrs:{href:"https://dbeaver.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("DBeaver"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("打开网站找到download页面，下载DBeaver Community的windows(installer)")]),s._v(" "),t("p",[s._v("安装完成以后打开，连接到MySQL,只要输入密码测试连接通过就可以啦")]),s._v(" "),t("h2",{attrs:{id:"sql基础与ddl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql基础与ddl"}},[s._v("#")]),s._v(" SQL基础与DDL")]),s._v(" "),t("h3",{attrs:{id:"sql语言的分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql语言的分类"}},[s._v("#")]),s._v(" SQL语言的分类")]),s._v(" "),t("p",[s._v("由于数据库管理系统（数据库软件）功能非常多，不仅仅是存储数据，还要包含：数据的管理、表的管理、库的管理、账户管理、权限管理等等。")]),s._v(" "),t("p",[s._v("所以，操作数据库的SQL语言，也基于功能，可以划分为4类：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("数据库定义： DDL（Data Definition Language）")]),s._v(" "),t("ul",[t("li",[s._v("库的创建删除、表的创建删除等")])])]),s._v(" "),t("li",[t("p",[s._v("数据操纵： DML（Data Manipulation Language）")]),s._v(" "),t("ul",[t("li",[s._v("新增数据、删除数据、修改数据等")])])]),s._v(" "),t("li",[t("p",[s._v("数据控制： DCL（Data Control Language）")]),s._v(" "),t("ul",[t("li",[s._v("新增用户、删除用户、密码修改、权限管理等")])])]),s._v(" "),t("li",[t("p",[s._v("数据查询：DQL（Data Query Language）")]),s._v(" "),t("ul",[t("li",[s._v("基于需求查询和计算数据")])])])]),s._v(" "),t("h3",{attrs:{id:"sql的语法特征"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql的语法特征"}},[s._v("#")]),s._v(" SQL的语法特征")]),s._v(" "),t("ul",[t("li",[s._v("SQL语言，大小写不敏感")]),s._v(" "),t("li",[s._v("SQL可以单行或多行书写，最后以;号结束")]),s._v(" "),t("li",[s._v("SQL支持注释：\n"),t("ul",[t("li",[s._v("单行注释： -- 注释内容（--后面一定要有一个空格）")]),s._v(" "),t("li",[s._v("单行注释： # 注释内容 （# 后面可以不加空格，推荐加上）")]),s._v(" "),t("li",[s._v("多行注释： /* 注释内容 */")])])])]),s._v(" "),t("h3",{attrs:{id:"ddl-库管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl-库管理"}},[s._v("#")]),s._v(" DDL - 库管理")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("查看数据库"),t("br"),s._v("\nSHOW DATABASES;")])]),s._v(" "),t("li",[t("p",[s._v("使用数据库"),t("br"),s._v("\nUSE 数据库名称;")])]),s._v(" "),t("li",[t("p",[s._v("创建数据库"),t("br"),s._v("\nCREATE DATABASE 数据库名称 [CHARSET UTF-8];")])]),s._v(" "),t("li",[t("p",[s._v("删除数据库"),t("br"),s._v("\nDROP DATABASE 数据库名称;")])]),s._v(" "),t("li",[t("p",[s._v("查看当前使用的数据库"),t("br"),s._v("\nSELECT DATABASE();")])])]),s._v(" "),t("h3",{attrs:{id:"ddl-表管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl-表管理"}},[s._v("#")]),s._v(" DDL - 表管理")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("查看有哪些表"),t("br"),s._v("\nSHOW TABLES; 注意：需要先旋转数据库哦")])]),s._v(" "),t("li",[t("p",[s._v("创建表"),t("br"),s._v("\nCREATE TABLE 表名称(\n列名称 列类型,\n列名称 列类型,\n......\n)")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("列类型")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("int")]),s._v(" "),t("td",[s._v("整数")])]),s._v(" "),t("tr",[t("td",[s._v("float")]),s._v(" "),t("td",[s._v("浮点数")])]),s._v(" "),t("tr",[t("td",[s._v("varchar(长度)")]),s._v(" "),t("td",[s._v("文本，长度为数字，做最大长度限制")])]),s._v(" "),t("tr",[t("td",[s._v("date")]),s._v(" "),t("td",[s._v("日期类型")])]),s._v(" "),t("tr",[t("td",[s._v("timestamp")]),s._v(" "),t("td",[s._v("时间戳类型")])])])]),s._v(" "),t("ul",[t("li",[s._v("删除表"),t("br"),s._v("\nDROP TABLE 表名称;"),t("br"),s._v("\nDROP TABLE IF EXISTS 表名称;")])]),s._v(" "),t("h2",{attrs:{id:"sql-dml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-dml"}},[s._v("#")]),s._v(" SQL - DML")]),s._v(" "),t("p",[s._v("DML是指数据操作语言，用来对数据库中标的数据记录进行更新"),t("br"),s._v("\n关键字：")]),s._v(" "),t("ul",[t("li",[s._v("插入INSERT")]),s._v(" "),t("li",[s._v("删除DELETE")]),s._v(" "),t("li",[s._v("更新UPDATE")])]),s._v(" "),t("h3",{attrs:{id:"数据插入-insert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据插入-insert"}},[s._v("#")]),s._v(" 数据插入 INSERT")]),s._v(" "),t("p",[s._v("基础语法："),t("br"),s._v("\nINSERT INFO 表[(列1，列2，。。。，列N)] values(值1，值2，。。。，值N)[,(值1，值2，。。。，值N),...(值1，值2，。。。，值N)]")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'周杰伦'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'林俊杰'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 如果不写插入的列名就按建表顺序插入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'周伦'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'俊杰'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),t("p",[s._v("SQL中只支持单引号")])]),s._v(" "),t("h3",{attrs:{id:"数据删除-delete"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据删除-delete"}},[s._v("#")]),s._v(" 数据删除 DELETE")]),s._v(" "),t("p",[s._v("基础语法："),t("br"),s._v("\nDELETE FROM 表名称 [WHERE 条件判断]")]),s._v(" "),t("p",[s._v("条件判断： 列 操作符 值"),t("br"),s._v("\n操作符： = < > <= >= != 等\n如：")]),s._v(" "),t("ul",[t("li",[s._v("id = 5")]),s._v(" "),t("li",[s._v("id < 3")]),s._v(" "),t("li",[s._v("id >= 6")]),s._v(" "),t("li",[s._v("id != 5")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student； "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 整张表的数据一条也不留")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"数据更新-update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据更新-update"}},[s._v("#")]),s._v(" 数据更新 UPDATE")]),s._v(" "),t("p",[s._v("基础语法："),t("br"),s._v("\nUPDATE 表名 SET 列=值 [WHERE 条件判断]")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'张学友'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'王力宏'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 整张表的名字都改成王力宏")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"sql-dql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-dql"}},[s._v("#")]),s._v(" SQL - DQL")]),s._v(" "),t("h3",{attrs:{id:"基础数据查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础数据查询"}},[s._v("#")]),s._v(" 基础数据查询")]),s._v(" "),t("p",[s._v("在SQL中，通过SELECT关键字开头的SQL语句，来进行数据的查询\n基础语法："),t("br"),s._v("\nSELECT 字段列表|* FROM 表"),t("br"),s._v("\n含义： 从（FROM）表中，选择（SELECT）某些列进行展示")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("gender "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询全部")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"基础查询数据-过滤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础查询数据-过滤"}},[s._v("#")]),s._v(" 基础查询数据 - 过滤")]),s._v(" "),t("p",[s._v("查询条件也可以带有指定条件，语法如下："),t("br"),s._v("\nSELECT 字段列表|* FROM 表 WHERE 条件判断")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" gender "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'男'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"分组聚合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分组聚合"}},[s._v("#")]),s._v(" 分组聚合")]),s._v(" "),t("p",[s._v("分组聚合应用场景非常多，如：统计班级中，男生和女生的人数。"),t("br"),s._v("\n这种需求就需要：")]),s._v(" "),t("ul",[t("li",[s._v("按性别分组")]),s._v(" "),t("li",[s._v("统计每个组的人数"),t("br"),s._v("\n这就称之为：分组聚合。")])]),s._v(" "),t("p",[s._v("基础语法："),t("br"),s._v("\nSELECT 字段|聚合函数 FROM 表 [WHERE 条件] GROUP BY 列"),t("br"),s._v("\n聚合函数有：")]),s._v(" "),t("ul",[t("li",[s._v("SUM(列) 求和")]),s._v(" "),t("li",[s._v("AVG(列) 求平均值")]),s._v(" "),t("li",[s._v("MIN(列) 求最小值")]),s._v(" "),t("li",[s._v("MAX(列) 求最大值")]),s._v(" "),t("li",[s._v("COUNT(列|*) 求数量")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 一个SQL中是可以写多个聚合的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("min")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("max")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("GROUP BY中出现了哪个列，哪个列才能出现在SELECT中的非聚合中")])]),s._v(" "),t("h3",{attrs:{id:"结果排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结果排序"}},[s._v("#")]),s._v(" 结果排序")]),s._v(" "),t("p",[s._v("可以对查询的结果，使用ORDER BY关键字，指定某个列进行排序，语法："),t("br"),s._v("\nSELECT 列|聚合函数|* FROM 表 WHERE ... GROUP BY ... ORDER BY ... [ASC|DESC]")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"结果分页限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结果分页限制"}},[s._v("#")]),s._v(" 结果分页限制")]),s._v(" "),t("p",[s._v("同样，可以使用LIMIT关键字，对查询结果进行数量限制或分页显示，语法："),t("br"),s._v("\nSELECT 列|聚合函数|* FROM 表 WHERE ... GROUP BY ... ORDER BY ... [ASC|DESC] LIMIT n[,m]"),t("br"),s._v("\n含义：从第n条开始取m条")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" student "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),t("ul",[t("li",[s._v("WHERE、GROUP BY、ORDER BY、LIMIT均可按需求省略")]),s._v(" "),t("li",[s._v("SELECT 和 FROM 是必须写的")]),s._v(" "),t("li",[s._v("执行顺序： FROM -> WHERE -> GROUP BY 和聚合函数 -> SELECT -> ORDER BY -> LIMIT")])])]),s._v(" "),t("h2",{attrs:{id:"python-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python-mysql"}},[s._v("#")]),s._v(" Python & MySQL")]),s._v(" "),t("h3",{attrs:{id:"pymysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pymysql"}},[s._v("#")]),s._v(" pymysql")]),s._v(" "),t("p",[s._v("除了使用图形化工具以外，我们也可以使用编程语言来执行SQL从而操作数据库。"),t("br"),s._v("\n在Python中，使用第三方库：pymysql来完成对MySQL数据库的操作。")]),s._v(" "),t("p",[s._v("安装：pip install pymysql")]),s._v(" "),t("h3",{attrs:{id:"创建到mysql的数据库链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建到mysql的数据库链接"}},[s._v("#")]),s._v(" 创建到MySQL的数据库链接")]),s._v(" "),t("p",[s._v("代码如下：")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" pymysql "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Connection\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取到MySQL数据库的链接对象")]),s._v("\nconn "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机名（或IP地址）")]),s._v("\n  port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口，默认3306")]),s._v("\n  user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 账户名")]),s._v("\n  passord"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印MySQL数据库软件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("conn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get_server_info"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭到数据库的链接")]),s._v("\nconn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"执行sql语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行sql语句"}},[s._v("#")]),s._v(" 执行SQL语句")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" pymysql "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Connection\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取到MySQL数据库的链接对象")]),s._v("\nconn "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机名（或IP地址）")]),s._v("\n  port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口，默认3306")]),s._v("\n  user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 账户名")]),s._v("\n  passord"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取游标对象")]),s._v("\ncursor "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cursor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("select_db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先选择数据库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用游标对象，执行sql语句,这里可以不写分号")]),s._v("\ncursor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CREATE TABLE test_pymysql(id INT, info VARCHAR(255))"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭数据库的链接")]),s._v("\nconn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("ul",[t("li",[s._v("执行查询性质的SQL语句")])]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[s._v("cursor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM student"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取查询结果")]),s._v("\nresults"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("tuple")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cursor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetchall"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" r "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" results"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"commit提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commit提交"}},[s._v("#")]),s._v(" commit提交")]),s._v(" "),t("p",[s._v("pymysql在执行数据插入或其他产生数据更改的SQL语句时，默认是需要提交更改的，即，需要通过代码“确认”这种更改行为。")]),s._v(" "),t("p",[s._v("通过链接对象.commit()即可确认此行为。")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[s._v("cursor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"insert into student values(10007, '周姐抡', 19, '男')\"")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过commit确认")]),s._v("\nconn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"自动commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动commit"}},[s._v("#")]),s._v(" 自动commit")]),s._v(" "),t("p",[s._v("如果不想手动commit确认，可以在构建链接对象的时候，设置自动commit的属性。")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[s._v("conn "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Connection"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机名（或IP地址）")]),s._v("\n  port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口，默认3306")]),s._v("\n  user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 账户名")]),s._v("\n  passord"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码")]),s._v("\n  autocommit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置自动提交")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);