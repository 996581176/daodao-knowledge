---
title: 数据可视化-折线图可视化
date: 2024-03-25 22:45:33
permalink: /pages/10422b/
categories:
  - python
  - Python基础综合案例
tags:
    -
---
## Python数据和Json数据的相互转化
```py
# 导入json模块
import json

# 准备符合格式json格式要求的python数据
data = [{"name":"老王","age":16},{"name":"张三","age":20}]

# 通过json.dumps(data)方法把python数据转化为json数据
data = json.dumps(data)
print(json_str, type(json_str))
# [{"name": "\u8001\u738b", "age": 16}, {"name": "\u5f20\u4e09", "age": 20}] <class 'str'>

# 不使用ASCII来去转换它
json_str = json.dumps(data, ensure_ascii=False)
print(json_str, type(json_str))
# [{"name": "老王", "age": 16}, {"name": "张三", "age": 20}] <class 'str'>


# 通过json.loads(data)方法把json数据转化为python数据
data = json.loads(data)
print(data, type(data))
# [{'name': '老王', 'age': 16}, {'name': '张三', 'age': 20}] <class 'list'>
```

## pyecharts模块安装
pip install pyecharts

查看官方示例：  
https://gallery.pyecharts.org

## pyecharts快速入门
### 基础折线图
```py
# 导包，导入Line功能构建折线图对象
from pyecharts.charts import Line

# 得到折线图对象
line = Line()

# 添加x轴数据
line.add_xaxis(["中国","美国","英国"])

# 添加y轴数据
line.add_yaxis("GDP", [30, 20, 10])

# 生成图表
line.render()
```
然后就会生成一个叫 render.html 的文件，打开它就是折线图了。
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20240325233150.png)

### set_global_opts方法
这里全局配置可以通过set_global_opts方法来进行配置，相应的选项和选项的功能如下：
![](https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20240325233413.png)

```py
from pyecharts.options import TitleOpts

line.set_global_opts(
    title_opts = TitleOpts("测试", pos_left="center", pos_bottom="1%"),
    legend_opts = LegendOpts(is_show = True),
    toolbox_opts = ToolboxOpts(is_show = True),
    visualmap_opts = VisualMapOpts(is_show=True),
    tooltip_opts = TooltipOpts(is_show = True)
)
```

## 数据处理